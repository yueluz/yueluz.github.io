<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Ubuntu on codex</title><link>https://gali.fan/tags/ubuntu/</link><description>Recent content in Ubuntu on codex</description><generator>Hugo</generator><language>en-us</language><copyright>© {year}</copyright><lastBuildDate>Sun, 07 Jul 2024 00:08:03 +0800</lastBuildDate><atom:link href="https://gali.fan/tags/ubuntu/index.xml" rel="self" type="application/rss+xml"/><item><title>在ubuntu上使用clash（解决订阅地址不可用的问题）</title><link>https://gali.fan/blog/240707-01/</link><pubDate>Sun, 07 Jul 2024 00:08:03 +0800</pubDate><guid>https://gali.fan/blog/240707-01/</guid><description>参考文献 安儿 - Linux使用Clash，clash-for-linux 念迹丘海 - Linux（ubuntu）系统安装和使用clash 开始 下载clash之后解压，进入目录 $ unzip clash-for-linux-master.zip $ cd clash-for-linux-master 按照README.md文件里那样，在.env文件里写入订阅地址和secret，secret可以写得简单些，后面要用 $ nano .env 在clash-for-linux-master目录下执行： $ sudo bash start.sh 如果在执行sudo bash start.sh命令时报错订阅地址不可访问，如图所示： 原因可能是访问这条链接本身需要梯子😅，这就需要我们手动将订阅链接转成yaml文件，然后修改start.sh脚本。
我没有找到比较好的订阅链接转yaml文件的工具，但是发现安卓版的clash可以导出yaml文件，方法如下：
然后将该yml文件放到temp文件夹中，并重命名为clash_config.yaml
$ mv clash_config.yaml clash-for-linux-master/temp/ # 我先改的名字，先后顺序无所谓 然后修改start.sh脚本，将配置文件下载部分和重命名部分注释掉，大概在第一百行左右
... ## 临时取消环境变量 unset http_proxy unset https_proxy unset no_proxy unset HTTP_PROXY unset HTTPS_PROXY unset NO_PROXY ## Clash 订阅地址检测及配置文件下载 # 检查url是否有效 #echo -e '\n正在检测订阅地址...' #Text1=&amp;quot;Clash订阅地址可访问！&amp;quot; #Text2=&amp;quot;Clash订阅地址不可访问！&amp;quot; ##curl -o /dev/null -s -m 10 --connect-timeout 10 -w %{http_code} $URL | grep '[23][0-9][0-9]' &amp;amp;&amp;gt;/dev/null #curl -o /dev/null -L -k -sS --retry 5 -m 10 --connect-timeout 10 -w &amp;quot;%{http_code}&amp;quot; $URL | grep -E '^[23][0-9]{2}$' &amp;amp;&amp;gt;/dev/null #ReturnStatus=$?</description></item></channel></rss>