<!doctype html><html lang=en-us><head><title>submodule版本更新后，调用方如何调用最新版本submodule | codex</title>
<meta charset=UTF-8><meta name=language content="en"><meta name=description content="当submodule更新版本之后，调用方仍调用的旧版本，如何解决这个问题"><meta name=keywords content="submodule"><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><link rel="shortcut icon" type=image/png href=/favicon.png><link type=text/css rel=stylesheet href=/css/post.min.0557a25edf5f0d1ff7f064e4e3c180cb56ef6fb674d3d19d8550a053be6520ed.css integrity="sha256-BVeiXt9fDR/38GTk48GAy1bvb7Z009GdhVCgU75lIO0="><link type=text/css rel=stylesheet href=/css/custom.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css integrity="sha256-47DEQpj8HBSa+/TImW+5JCeuQeRkm5NMpJWZG3hSuFU="><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/gali.fan\/"},"articleSection":"blog","name":"submodule版本更新后，调用方如何调用最新版本submodule","headline":"submodule版本更新后，调用方如何调用最新版本submodule","description":"当submodule更新版本之后，调用方仍调用的旧版本，如何解决这个问题","inLanguage":"en-US","author":"","creator":"","publisher":"","accountablePerson":"","copyrightHolder":"","copyrightYear":"2024","datePublished":"2024-09-05 10:07:42 \u002b0800 \u002b0800","dateModified":"2024-09-05 10:07:42 \u002b0800 \u002b0800","url":"https:\/\/gali.fan\/blog\/240905-01\/","wordCount":"33","keywords":["submodule","Blog"]}</script></head><body><div class=burger__container><div class=burger aria-controls=navigation aria-label=Menu><div class="burger__meat burger__meat--1"></div><div class="burger__meat burger__meat--2"></div><div class="burger__meat burger__meat--3"></div></div></div><nav class=nav id=navigation><ul class=nav__list><li><a href=/>about</a></li><li><a class=active href=/blog>blog</a></li></ul></nav><main><div class=flex-wrapper><div class=post__container><div class=post><header class=post__header><h1 id=post__title>submodule版本更新后，调用方如何调用最新版本submodule</h1><time datetime="2024-09-05 10:07:42 +0800 +0800" class=post__date>Sep 5 2024</time></header><article class=post__content><h3 id=背景>背景<a class=anchor href=#背景>#</a></h3><p>我的hugo博客使用了一个主题，它是作为一个submodule被引用的，如图所示：</p><p><img src=1.png alt></p><p>其中<code>hugo-theme-codex-my</code>就是我的theme仓库，<code>@</code>后面是我<strong>theme的版本</strong></p><p>昨天我在部署博客时，Github Action报了一项错误：</p><p><img src=2.png alt></p><p>大概是在我的hugo theme中某个方法调用过于老旧，并且将要在未来版本移除，给出了一个替代方法。</p><p>于是我按照错误信息，将我的theme作了修改，并上传到对应的远程仓库的master分支（仅此一个分支），但重新部署仍然报相同的错误。</p><h3 id=原因>原因<a class=anchor href=#原因>#</a></h3><p>这是因为<strong>在调用submodule时，并不是指定submodule的某个分支，而是指定了submodule的某个版本</strong>。
我昨天更新了master分支，但我的博客还在调用旧版本，并没有应用最新的修改。</p><h3 id=解决>解决<a class=anchor href=#解决>#</a></h3><ol><li>首先，如果submodule有多个分支的话，我们可以指定一个分支，我就一个master分支，我还是指定了，修改<code>.gitmodules</code>文件，其中<code>branch</code>字段指定分支。</li></ol><pre><code>[submodule &quot;themes/hugo-theme-codex-my&quot;]
	path = themes/hugo-theme-codex-my
	url = git@github.com:yueluz/hugo-theme-codex-my.git
	branch = master
</code></pre><ol start=2><li>修改之后执行<code>git submodule init</code>进行重新初始化子模块，使<code>.gitmodules</code>文件生效，然后执行<code>git submodule update --remote -f</code>命令，会根据<code>.gitmodules</code>文件里的内容更新当前项目调用的submodule的版本至最新。执行<code>git diff</code>命令可以看到此时我的博客项目里submodule的版本已经发生了变化。</li></ol><p><img src=3.png alt></p><ol start=3><li>此时，再进行部署就会成功完成。</li></ol></article><ul class=tags__list><li class=tag__item><a class=tag__link href=https://gali.fan/tags/submodule/>submodule</a></li></ul><div class=pagination><a class=pagination__item href=https://gali.fan/blog/240904-01/><span class=pagination__label>Previous Post</span>
<span class=pagination__title>《黑神话：悟空》老猴子划船CG台词选录</span>
</a><a class=pagination__item href=https://gali.fan/blog/240905-02/><span class=pagination__label>Next Post</span>
<span class=pagination__title>git submodule update --remote与--init的区别</span></a></div><footer class=post__footer><div class=social-icons><a class=social-icons__link title=GitHub href=https://github.com/yueluz target=_blank rel="me noopener"><div class=social-icons__icon style=background-image:url(https://gali.fan/svg/github.svg)></div></a><a class=social-icons__link title=Email href=mailto:%3coscink@163.com%3e target=_blank rel="me noopener"><div class=social-icons__icon style=background-image:url(https://gali.fan/svg/email.svg)></div></a><a class=social-icons__link title=QQ href=svg/qq.svg target=_blank rel="me noopener"><div class=social-icons__icon style=background-image:url(https://gali.fan/svg/qq.svg)></div></a><a class=social-icons__link title=Wechat href=https://baidu.com target=_blank rel="me noopener"><div class=social-icons__icon style=background-image:url(https://gali.fan/svg/wechat.svg)></div></a></div><p>© 2024</p></footer></div></div></div></main><script src=/js/index.min.301a8b0870381bf76b3b5182e8966d363a0474281183439beb024d8b8228fc66.js integrity="sha256-MBqLCHA4G/drO1GC6JZtNjoEdCgRg0Ob6wJNi4Io/GY=" crossorigin=anonymous></script><script src=https://unpkg.com/prismjs@1.20.0/components/prism-core.min.js></script><script src=https://unpkg.com/prismjs@1.20.0/plugins/autoloader/prism-autoloader.min.js data-autoloader-path=https://unpkg.com/prismjs@1.20.0/components/></script></body></html>