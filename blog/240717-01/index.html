<!doctype html><html lang=en-us><head><title>Ubuntu安装Docker和Docker-compose | codex</title>
<meta charset=UTF-8><meta name=language content="en"><meta name=description content="ubuntu安装docker依赖问题"><meta name=keywords content="docker"><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><link rel="shortcut icon" type=image/png href=/favicon.png><link type=text/css rel=stylesheet href=/css/post.min.0557a25edf5f0d1ff7f064e4e3c180cb56ef6fb674d3d19d8550a053be6520ed.css integrity="sha256-BVeiXt9fDR/38GTk48GAy1bvb7Z009GdhVCgU75lIO0="><link type=text/css rel=stylesheet href=/css/custom.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css integrity="sha256-47DEQpj8HBSa+/TImW+5JCeuQeRkm5NMpJWZG3hSuFU="><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/gali.fan\/"},"articleSection":"blog","name":"Ubuntu安装Docker和Docker-compose","headline":"Ubuntu安装Docker和Docker-compose","description":"ubuntu安装docker依赖问题","inLanguage":"en-US","author":"","creator":"","publisher":"","accountablePerson":"","copyrightHolder":"","copyrightYear":"2024","datePublished":"2024-07-17 14:09:11 \u002b0800 \u002b0800","dateModified":"2024-07-17 14:09:11 \u002b0800 \u002b0800","url":"https:\/\/gali.fan\/blog\/240717-01\/","wordCount":"95","keywords":["docker","Blog"]}</script></head><body><div class=burger__container><div class=burger aria-controls=navigation aria-label=Menu><div class="burger__meat burger__meat--1"></div><div class="burger__meat burger__meat--2"></div><div class="burger__meat burger__meat--3"></div></div></div><nav class=nav id=navigation><ul class=nav__list><li><a href=/>about</a></li><li><a class=active href=/blog>blog</a></li></ul></nav><main><div class=flex-wrapper><div class=post__container><div class=post><header class=post__header><h1 id=post__title>Ubuntu安装Docker和Docker-compose</h1><time datetime="2024-07-17 14:09:11 +0800 +0800" class=post__date>Jul 17 2024</time></header><article class=post__content><h3 id=背景>背景<a class=anchor href=#背景>#</a></h3><p>近期在学习<code>Saleor</code>，它支持docker安装，前段时间了解了一下docker，感觉很方便，于是打算试试，但是由于某些原因docker被墙了，本文记录docker安装时遇到的问题以及解决。</p><h3 id=正文>正文<a class=anchor href=#正文>#</a></h3><ol><li>下载deb包</li></ol><p>在<a href=https://www.docker.com/products/docker-desktop/ target=_blank rel="noreferrer noopener">docker官网</a>下载deb包</p><p>点击<code>Download for Linux</code>
<img src=1.png alt>
选择你的发行版，我的是ubuntu
<img src=2.png alt>
点击下载deb包
<img src=3.png alt></p><ol start=2><li>安装deb包
使用<code>dpkg -i xxx.deb</code>安装时，应该会需要安装一些依赖，其中有个叫做<code>docker-ce-cli</code>的包一直安装不上，报错<code>Docker Desktop doesn't install saying docker-ce-cli not installable</code>。
在网上查阅资料，在stackoverflow上找到一篇帖子，成功得以解决，<a href=https://stackoverflow.com/questions/72299444/docker-desktop-doesnt-install-saying-docker-ce-cli-not-installable target=_blank rel="noreferrer noopener">原贴链接</a></li></ol><p>他给出的解决方法如下：</p><pre><code class=language-bash>sudo apt install -y ca-certificates curl gnupg lsb-release
sudo mkdir -p /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
echo &quot;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable&quot; | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null
sudo apt update -y

sudo apt install ./docker-desktop-&lt;version&gt;-&lt;arch&gt;.deb
</code></pre><p>但是在执行<code>sudo apt update -y</code>时，由于docker被墙，会出现以下错误：</p><p><img src=4.png alt></p><p>因此需要在更新时挂上代理，挂代理方法如下：</p><pre><code class=language-bash>sudo apt -o Acquire::http::proxy=&quot;http://127.0.0.1:7890/&quot; update -y
</code></pre><p>这样就可以正确更新</p><p><img src=5.png alt></p><p>更新之后安装deb包，也是成功安装docker-desktop</p><ol start=3><li>docker-compose安装
compose安装非常简单，参考<a href=https://docs.docker.com/compose/install/ target=_blank rel="noreferrer noopener">官网安装文档</a>即可</li></ol><h3 id=参考文献>参考文献<a class=anchor href=#参考文献>#</a></h3><ol><li><a href=https://www.docker.com/products/docker-desktop/ target=_blank rel="noreferrer noopener">docker desktop官网</a></li><li><a href=https://docs.docker.com/compose/install/ target=_blank rel="noreferrer noopener">docker-compose安装文档</a></li><li><a href=https://stackoverflow.com/questions/72299444/docker-desktop-doesnt-install-saying-docker-ce-cli-not-installable target=_blank rel="noreferrer noopener">Docker Desktop doesn&rsquo;t install saying docker-ce-cli not installable</a></li><li><a href=http://blog.csdn.net/baidu_39332177/article/details/107655623 target=_blank rel="noreferrer noopener">linux代理设置&amp;apt-get代理设置</a></li></ol></article><ul class=tags__list><li class=tag__item><a class=tag__link href=https://gali.fan/tags/docker/>docker</a></li><li class=tag__item><a class=tag__link href=https://gali.fan/tags/ubuntu/>ubuntu</a></li></ul><div class=pagination><a class=pagination__item href=https://gali.fan/blog/240707-03/><span class=pagination__label>Previous Post</span>
<span class=pagination__title>通过Actions推送部署GithubPages域名被解绑问题解决</span></a></div><footer class=post__footer><div class=social-icons><a class=social-icons__link title=GitHub href=https://github.com/yueluz target=_blank rel="me noopener"><div class=social-icons__icon style=background-image:url(https://gali.fan/svg/github.svg)></div></a><a class=social-icons__link title=Email href=mailto:%3coscink@163.com%3e target=_blank rel="me noopener"><div class=social-icons__icon style=background-image:url(https://gali.fan/svg/email.svg)></div></a><a class=social-icons__link title=QQ href=svg/qq.svg target=_blank rel="me noopener"><div class=social-icons__icon style=background-image:url(https://gali.fan/svg/qq.svg)></div></a><a class=social-icons__link title=Wechat href=https://baidu.com target=_blank rel="me noopener"><div class=social-icons__icon style=background-image:url(https://gali.fan/svg/wechat.svg)></div></a></div><p>© 2024</p></footer></div></div></div></main><script src=/js/index.min.301a8b0870381bf76b3b5182e8966d363a0474281183439beb024d8b8228fc66.js integrity="sha256-MBqLCHA4G/drO1GC6JZtNjoEdCgRg0Ob6wJNi4Io/GY=" crossorigin=anonymous></script><script src=https://unpkg.com/prismjs@1.20.0/components/prism-core.min.js></script><script src=https://unpkg.com/prismjs@1.20.0/plugins/autoloader/prism-autoloader.min.js data-autoloader-path=https://unpkg.com/prismjs@1.20.0/components/></script></body></html>